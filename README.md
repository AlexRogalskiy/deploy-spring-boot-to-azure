# Deploy Spring Boot Applications to Azure using Azure Web Apps

## Take your first steps towards cloud with Azure Web Apps. Deploy REST APIs, Full Stack Applications, Web Applications and Containers to the cloud.

Spring Boot is the No 1 Java Framework to develop REST API and Microservices. Azure is the One of the Top Cloud Service Providers today.

How about learning Azure by deploying Spring Applications to Cloud using Azure Web Apps and Azure App Service?

## Getting Started
- [Video - Docker in 5 Steps](https://youtu.be/Rt5G5Gj7RP0)
- [Video - Spring in Steps](https://www.youtube.com/watch?v=edgZo2g-LTM)
- [Video - Spring Boot in Steps](https://www.youtube.com/watch?v=pcdpk3Yd1EA)
- [Video - JPA/Hibernate in Steps](https://www.youtube.com/watch?v=MaI0_XdpdP8)
- [Video - React in Steps](https://www.youtube.com/watch?v=SWXuXhZkNQc&t=110s)
- [Article - Getting started with React and Spring Boot - Full Stack](https://www.springboottutorial.com/spring-boot-react-full-stack-crud-maven-application)
- [Article - Using Spring Security and JWT with React and Spring Boot](https://www.springboottutorial.com/spring-boot-react-full-stack-with-spring-security-basic-and-jwt-authentication)
- [Azure Code Pipeline Github Repo](https://github.com/in28minutes/hello-world-rest-api-azure-pipelines)

## Installation Guides

#### Required Tools

- Node v8+ for npm
- Visual Studio Code - Latest Version
- Java 8+
- Eclipse - Oxygen+ - (Embedded Maven From Eclipse)
- Git
- Docker
- ELB CLI

#### Installing Guides

- [Playlist - Installing Java, Eclipse & Embedded Maven](https://www.youtube.com/playlist?list=PLBBog2r6uMCSmMVTW_QmDLyASBvovyAO3)
- [Playlist - Installing Node Js (npm) & Visual Studio Code](https://www.youtube.com/playlist?list=PLBBog2r6uMCQN4X3Aa_jM9qVjgMCHMWx6)

#### Troubleshooting Installations
- Node JS and NPM 
  - https://docs.npmjs.com/common-errors
  - https://docs.npmjs.com/getting-started/troubleshooting
- Visual Studio Code
  - https://code.visualstudio.com/docs/supporting/errors
  - https://code.visualstudio.com/docs/supporting/FAQ
- Eclipse and Embedded Maven
  - Troubleshooting Guide : https://github.com/in28minutes/in28minutes-initiatives/tree/master/The-in28Minutes-TroubleshootingGuide-And-FAQ#tip--troubleshooting-embedded-maven-in-eclipse
  - PDF : https://github.com/in28minutes/SpringIn28Minutes/blob/master/InstallationGuide-JavaEclipseAndMaven_v2.pdf
  - GIT Repository For Installation : https://github.com/in28minutes/getting-started-in-5-steps

## Course Overview

In this course, we deploy a variety of Spring Boot Applications to the Cloud:
- REST APIs - Hello World and Todo - JAR
- Todo Web Application WAR
- Full Stack Application with React and Spring Boot
- Single Container with REST API
- Multi Container with Todo REST API talking to MySQL

This course would be a perfect first step as an introduction to Azure and the Cloud.

You will learn about automating deployments with Azure and creating a continuous delivery pipeline with Azure DevOps. You will learn how to Auto Scale applications based on load as well as deploy multiple instances behind a load balancer using Azure App Service.

You will be using a number of Azure Services - Azure App Service, Azure Web Apps, Azure DevOps, Azure Database for MySQL Services, Resource Groups, Azure App Service Plans and Azure Subscriptions. 

You will be using deploying a variety of Java Spring Boot projects to Azure (Azure). These projects are created with  React (Frontend Framework), Spring Boot (REST API Framework), Spring (Dependency Management), Spring Security (Authentication and Authorization - Basic and JWT), BootStrap (Styling Pages), Maven (dependencies management), Node (npm), Visual Studio Code (TypeScript IDE), Eclipse (Java IDE) and Tomcat Embedded Web Server. We will help you set up each one of these.

## What you'll learn
- You will Learn the Fundamentals of Azure from Zero, no previous experience required
- You will learn to deploy Spring Boot REST API to Azure with Azure Web Apps
- You will learn to deploy Java, Spring Boot Full Stack Applications to Azure with Azure App Service
- You will be using a number of Azure Services - Azure App Service, Azure Web Apps, Azure DevOps, Azure Database for MySQL Services. 
- You will learn to deploy containerized Java Spring Boot applications to Azure
- You will learn to create a continuous delivery pipeline with Azure DevOps
- You will learn how to Auto Scale applications based on load as well as deploy multiple instances using Azure Web Apps.
- You will Join 300,000 Learners having AMAZING LEARNING Experiences with in28Minutes

## Requirements
- You have an attitude to learn while having fun :)
- You have some programming experience with Java, Spring and Spring Boot
- You have a valid debit or credit card to create a Azure Account
- You DO NOT need to have any experience with Azure


## Step By Step Details

### Getting Started with the course
- Step 00 - Deploying Spring Boot Applications with Azure Web Apps - Introduction
- Step 01 - Getting Started with the Course

### Getting Started with Azure
- Step 01 - Creating an Azure Account
- Step 02 - 10000 Feet Overview of Cloud, Azure and Azure Web Apps

### Getting Started with Azure Web Apps
- Step 01 - Getting started with Azure Web Apps - Creating First Application and Environment
- Step 02 - Quick Exploration of Azure Web Apps
- Step 03 - Quick Introduction to Azure App Service Plans
- Step 04 - Quick Introduction to Kudu Console
- Step 05 - Searching efficiently for Azure resources and deleting Resource Groups
- Step 06 - Exploring Cloud Best Practices - Minimize Costs

### Deploying Java Spring Boot Hello World REST API to Azure Web Apps
- Step 01 - Importing Four Spring Boot Projects from Github
- Step 02 - Running 01 Spring Boot Hello World Application in Local
- Step 03 - Deploy Spring Boot Application to Azure Web Apps - 1 - Azure Web App Maven Plugin
- Step 04 - Deploy Spring Boot Application to Azure Web Apps - 2 - Install Azure CLI
- Step 05 - Deploy Spring Boot Application to Azure Web Apps - 3
- Step 06 - Deploy Spring Boot Application to Azure Web Apps - 4 - Deploying new version
- Step 07 - Review Log Streams and Tail Web App Logs using Azure CLI
- Step 08 - Exploring Cloud Best Practices - Regions

### Deploying Java Spring Boot H2 Web App to Azure Web Apps
- Step 01 - Running 02 Spring Boot H2 Web App on Local
- Step 02 - Deploying 02 Spring Boot H2 Web App WAR to Azure Web Apps
- Step 03 - Testing 02 Spring Boot H2 Web App Azure Deployment
- Step 04 - Exploring Cloud Best Practices - Azure Resource Management

### Deploying Java Spring Boot Web App talking to MySQL with Azure App Service
- Step 01 - Code Review of 03 Spring Boot MySQL Web App
- Step 02 - Running MySQL as Docker Container on Local
- Step 03 - Connect 03 Spring Boot MySQL Web App to MySQL on Local
- Step 04 - Creating MySQL Database in Azure
- Step 05 - Deploy 03 Spring Boot MySQL Web App to Azure Web Apps
- Step 06 - Connect 03 Spring Boot App to Azure MySQL Database - Environment Variables
- Step 07 - Using Azure Cloud Shell to Create Database
- Step 08 - Connecting to Azure MySQL for Local Machine
- Step 09 - Create Azure MySQL Database using Azure CLI
- Step 10 - Delete Resource Groups for Azure Web Apps and Databases

### Deploying Java Full Stack Spring Boot React App with Azure App Service
- Step 01 - Exploring 04 Java Full Stack Spring Boot React App
- Step 02 - Running React Frontend in Local
- Step 03 - Deploying Java REST API Backend using Azure App Service
- Step 04 - Deploying React Frontend using Azure App Service

### Deploying Containerized Java Applications with Azure Web Apps
- Step 01 - Code Review for 05 Single Container Java Spring Boot REST API
- Step 02 - Creating and Running Local Docker Image for 05 Java Spring Boot REST API
- Step 03 - Pushing Java Spring Boot REST API Docker Image to Docker Hub
- Step 04 - Deploying Java Spring Boot REST API Docker Image to Azure App Service - Part 1
- Step 05 - Deploying Java Spring Boot REST API Docker Image to Azure App Service - Part 2
- Step 06 - Running 06 Multi Container Java Spring Boot App with MySQL on Local
- Step 07 - Running 06 Multi Container Java Spring Boot App with MySQL using Docker Compose
- Step 08 - Deploying Docker Compose Java Spring Boot App with MySQL to Azure - Part 1
- Step 09 - Deploying Docker Compose Java Spring Boot App with MySQL to Azure - Part 2

### Azure App Service - Creating Auto Scaling Environments
- Step 01 - Exploring Manual Scaling and ARR Affinity of Azure Web Apps
- Step 02 - Exploring Auto Scaling features of Azure App Service
- Step 03 - Creating Deployment Slot for Staging Environment
- Step 04 - Swap Stage and Production Environments - Blue Green Deployment 
- Step 05 - Exploring Canary Deployments with Azure App Service

### Continuous Delivery for Java Spring Boot Applications with Azure DevOps
- Step 01 - Getting Started with Continuous Delivery - Create Github Repository
- Step 02 - Setup Azure DevOps for Continuous Delivery to Azure App Service - Part 1
- Step 03 - Setup Azure DevOps for Continuous Delivery to Azure App Service - Part 2

### Conclusion
- Step 01 - Delete All Resource Groups and Thank You

### Email headings
  - ⚡⚡⚡ [NEW COURSE] Deploy Spring Boot to Cloud - Azure
  - Is it Your Time... (to start with Azure)
  - By Far, The Easiest Way? ... (to learn cloud)
  - #1 Skill For Years to Come
  - Do You have the #1 Skill for a Java Developer?
  - Do You want to be Future Proof?

### Email Template

```
Do you have ZERO experience with Azure (Azure)? 

Are you ready to learn about the cloud with Azure (Azure) and take the next step in your programming career? 

Do you want to learn to Deploy Java Spring Boot Applications to Azure (Azure) using Azure Web Apps with an easy to learn, step by step approach? 

Do you want to join 300,000+ learners having Amazing Learning Experiences with in28Minutes?

For existing in28Minutes Learners, we are creating a special offer for just $9.99. This is the LOWEST possible price allowable on Udemy. 

https://www.udemy.com/deploy-java-spring-boot-to-Azure-amazon-web-service/?couponCode=FIRST_PROMO_UDEMY

This course would be a perfect first step as an introduction to Azure and the Cloud.

You will learn about automating deployments with Azure Web Apps and creating a continuous delivery pipeline with Azure DevOps. You will learn how to Auto Scale applications based on load as well as deploy multiple instances using Azure Web Apps.

You will be using a number of Azure Services - Azure App Service, Azure Web Apps, Azure DevOps, Azure Database for MySQL Services. 

You will be using deploying a variety of projects to Azure (Azure). These projects are created with  React (Frontend Framework), Spring Boot (REST API Framework), Spring (Dependency Management), Spring Security (Authentication and Authorization - Basic and JWT), BootStrap (Styling Pages), Maven (dependencies management), Node (npm), Visual Studio Code (TypeScript IDE), Eclipse (Java IDE) and Tomcat Embedded Web Server. We will help you set up each one of these.

https://www.udemy.com/deploy-java-spring-boot-to-Azure-amazon-web-service/?couponCode=FIRST_PROMO_UDEMY


Happy coding and thanks for being a student!


Ranga

Thank you for all the love!

#in28Minutes #ImLearningIn28Minutes #ImLovingIn28Minutes

Good Luck and Keep Learning in28Minutes
```

```sh
for file in *; do mv "${file}" "${file//-/ }"; done
for file in *; do mv "${file}" "${file//   / - }"; done
for file in *; do mv "${file}" "${file//01 Step/Step}"; done
```
  
### Useful Links
- [Our Website](http://www.in28minutes.com)
- [Facebook](http://facebook.com/in28minutes)
- [Twitter](http://twitter.com/in28minutes)
- [Google Plus](https://plus.google.com/u/3/110861829188024231119)

## Diagrams

- Courtesy http://viz-js.com/

```
graph architecture {

node[style=filled,color="#59C8DE"]
//node [style=filled,color="#D14D28", fontcolor=white];
rankdir = TB
node[shape=record]

ManagementGroup -- Subscription1
ManagementGroup -- Subscription2
Subscription1 -- ResourceGroup1
Subscription1 -- ResourceGroup2
Subscription2 -- ResourceGroup3
Subscription2 -- ResourceGroup4
ResourceGroup1 -- WebAppRestApi
ResourceGroup1 -- WebAppFrontEnd
ResourceGroup2 -- Database
ResourceGroup3 -- Resource1
ResourceGroup4 -- Resource4
ResourceGroup4 -- Resource2
ResourceGroup4 -- Resource3

ManagementGroup[label=<Management Group>]
Subscription1[label=<Subscription - Dev>]
Subscription2[label=<Subscription - QA>]

ResourceGroup1,ResourceGroup2,ResourceGroup3,ResourceGroup4[label=<Resource Group>]
WebAppRestApi[label=<Spring Boot REST API>]
WebAppFrontEnd[label=<React Front End App>]
Database[label=<MySQL Database>]
Resource1,Resource2,Resource3,Resource4[label=<...>]
}
```

## Todo
- Editing
   - Add Command Line Executions
   - Make Github Repository Public
- Post Course Creation
  - Course Promotion Emails/Posts
    - 1 Emails on Udemy
    - 1 Emails to Email List
  - Create YouTube Course Preview Video
    - Add YouTube Course Preview Video as End Video for all videos
    - Make it the YouTube Default Video
  - Release atleast 20 small videos - one a day on Youtube
  - Do atleast 3 Youtube live sessions
  - After a Month
    - UFB and Packt

## Notes

```

az webapp log tail --name 02-todo-rest-api-h2-1569964302502 --resource-group 02-todo-rest-api-h2-1569964302502-rg

az group delete --name 02-todo-rest-api-h2-1569964302502-rg --yes

az webapp create --resource-group 05-spring-boot-react-full-stack-h2 --plan 05-spring-boot-react-app-service --name 05-spring-boot-react-app

az mysql up [--admin-password]
            [--admin-user]
            [--backup-retention]
            [--database-name]
            [--generate-password]
            [--geo-redundant-backup {Disabled, Enabled}]
            [--location]
            [--resource-group]
            [--server-name]
            [--sku-name]
            [--ssl-enforcement {Disabled, Enabled}]
            [--storage-size]
            [--tags]
            [--version]

az group delete --name 04-spring-boot-web-application-mysql-1570137395405-rg --yes

az appservice plan create --name myAppServicePlan --resource-group myResourceGroup --sku FREE

az webapp create --resource-group myResourceGroup --plan myAppServicePlan --name <app-name> --deployment -local-git

az webapp config appsettings set --name <app_name> --resource-group myResourceGroup --settings ASPNETCORE_ENVIRONMENT="Production"

az webapp config connection-string set --resource-group myResourceGroup --name <app name> --settings
MyDbConnection="<connection_string>" --connection-string-type SQLServer

   az webapp log config --name <app-name> --resource-group myResourceGroup --docker-container-logging filesystem # enable log streaming

   Logs URL - https://<app-name>.scm.azurewebsites.net/api/logs/docker

```

## Useful Articles
- Application Insights - Azure Specific Jar - https://dev.to/azure/using-azure-application-insights-with-spring-boot-4-7-263i
- https://docs.microsoft.com/en-us/azure/app-service/scripts/cli-scale-high-availability
- https://docs.microsoft.com/en-us/azure/app-service/scripts/cli-connect-to-sql
- https://02-todo-rest-api-h2-1569964302502.scm.azurewebsites.net/api/logs/docker/zip
- https://docs.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs
- https://docs.microsoft.com/en-us/java/azure/spring-framework/configure-spring-data-jpa-with-azure-mysql?view=azure-java-stable
- https://docs.microsoft.com/en-us/azure/app-service/deploy-zip
- https://docs.microsoft.com/en-us/cli/azure/ext/db-up/mysql?view=azure-cli-latest
- https://docs.microsoft.com/azure/application-insights/app-insights-java-trace-logs

```
<appSettings>
    <property>
        <name>JAVA_OPTS</name>
        <value>-Xms512m -Xmx1204m</value>
    </property>
</appSettings>
```
## Applications
- Azure Sample Application - Java & Spring Boot
  - Java 11
  - Application Insight JAR
  - Review Application Settings Screen
  - Webapps Console - 1 - 170
  - Docker
- Hello World - Java & Spring Boot - JAR
  - Reduce Memory - JAVA_OPTS `-Xms512m -Xmx1204m`
- Todo Web Application ( Java & Spring Boot ) with H2 Database - WAR
- Todo Web Application ( Java & Spring Boot ) with MySQL Database - WAR
  - Web App with MySQL as one application
  - Azure SQL DB - 2 - 110
  - `az extension add --name db-up`
  - Multi Docker - Docker Compose
- Full Stack Application ( Java, Spring Boot & React )
  - CDN
  - App Service Envrionments - 1 - 262
  - Multi Region Deployment + Load Balancer (Application Gateway)
- Simple Batch Program (Java, Spring Boot) - JAR

## Features
- Logs - 3 options
- Continuous Delivery
  - Azure Pipelines
  - azure-pipelines.yml
  - Devops Projects
- Auto Scaling
  - Sticky Configuration
  - Advanced Application Restart
  - App Service plan is the scale unit of the App Service apps. If the plan is configured to run five VM instances, then all apps in the plan run on all five instances. If the plan is configured for autoscaling, then all apps in the plan are scaled out together based on the autoscale settings.
  - The load balancer is created automatically and you can't see it. Basically it sends the requests to instances at random, though it can be made "sticky" with ARR Affinity.
- Blue Green Deployment and Slots
  - Whenever possible, use deployment slots when deploying a new production build. When using a Standard App Service Plan tier or better, you can deploy your app to a staging environment, validate your changes, and do smoke tests. When you are ready, you can swap your staging and production slots. The swap operation warms up the necessary worker instances to match your production scale, thus eliminating downtime.
  - `configuration > <!-- Deployment Slot Setting --><deploymentSlotSetting><name>${SLOT_NAME}</name><configurationSource>parent</configurationSource></deploymentSlotSetting>`
- KUDU SCM
- Application Gateway
- Traffic Manager - DNS Routing & High Availability
- Azure Log Analytics
- Azure Monitor
- Azure Application Insights
- Azure Health
- Azure Advisor
- Azure Activity Log
- Billing

## Notes

### Terminology
- resource - An item you can manage - Examples : Virtual machines, web apps, databases, and virtual networks 
- resource group - A container for multiple resources

### Network
- There are two primary deployment types for the Azure App Service. 
    -   multi-tenant public service, which hosts App Service plans in the Free, Shared, Basic, Standard, Premium, and Premiumv2 pricing SKUs. 
    -   single tenant App Service Environment(ASE), which hosts Isolated SKU App Service plans directly in your Azure Virtual Network (VNet). The features you use will vary on if you are in the multi-tenant service or in an ASE.
-  Except for the isolated pricing tier, all tiers run your apps on the shared network infrastructure in Azure App Service.
- Load balance traffic to my apps in different regions - Azure Front Door with Access Restrictions
- Load balance traffic in the same region - Application Gateway with service endpoints

### App Service Environment ASE 
- An ASE can be either internet-facing with a public IP address or internal-facing with only an Azure internal load balancer (ILB) address.
-  Network Security Groups restrict inbound network communications to the subnet where an ASE resides. You can use NSGs to run apps behind upstream devices and services such as WAFs and network SaaS providers.


### Azure Virtual Machine - IAAS
- Variety of Options - General Purpose, Memory Optimized, CPU Optimized, GPU, High Performance Compute
- You are responsible for managing everything
- Per minute billing

### Azure Web Apps - PAAS 1 - 158 
- Per minute Billing(??)
- Web apps run on Azure Virtual Machines but you don't need to worry about managing them
- Support variety of platforms and Docker
- Integration with Command Line, Github, CI/CD, Auto Scaling, High Availability

### Regions - 1 - 33
- Performance, Availability and Legal Requirements

### Resource Groups - 1 - 35
- Logical container for resources
- Groups all resources related to an application, a business unit, an environment or an enterprise
- Can be used to provide roll based access to a group of resources instead of managing the resources individually
- Can contain resources from multiple regions
- All the resources in your group should share the same lifecycle. You deploy, update, and delete them together. If one resource, such as a database server, needs to exist on a different deployment cycle it should be in another resource group.
- Each resource can only exist in one resource group


### App Service Plans - 1 - 37 - 2 - 70
- https://azure.microsoft.com/en-us/pricing/details/app-service/linux/
- Capabilities (Features) + Capacities (Instance Size/ Count) = Cost
- Free, Shared, Basic, Standard and Premium
- F1, B1, B2, B3 etc...
- ASPs can be shared by multiple applications
  - Since you pay for the computing resources your App Service plan allocates, you can potentially save money by putting multiple apps into one App Service plan. You can continue to add apps to an existing plan as long as the plan has enough resources to handle the load. However, keep in mind that apps in the same App Service plan all share the same compute resources.
- Feature Variations
  - Autoscale
  - Geo distributed deployments
  - Deployment Slots
  - Automated Backups
- Except for Free tier, an App Service plan carries an hourly charge on the compute resources it uses.
- Your App Service plan can be scaled up and down at any time. It is as simple as changing the pricing tier of the plan. You can choose a lower pricing tier at first and scale up later when you need more App Service features.
- App Service Plan is specific to a Region
- Choose a new App Service plan when 1) The app is resource-intensive. 2) You want to scale the app independently from the other apps in the existing plan. 3) The app needs resource in a different geographical region.

## Configuration

RDS_USERNAME = todosuser@todo-web-application-db
RDS_PASSWORD = dummytodos@1 

Activate the log stream
todo-web-application-db.mysql.database.azure.com
mysqlsh todo-web-application-db.mysql.database.azure.com --dbuser todosuser@todo-web-application-db
use todos;
select * from todo;

Caused by: com.mysql.cj.exceptions.InvalidConnectionAttributeException: The server time zone value 'Coordinated Universal Time' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.

az webapp show   --name todo-web-application-h2-2111 --resource-group in28minutes-02

az webapp config show  --name todo-web-application-h2-2111 --resource-group in28minutes-02

az webapp deployment slot list  --name todo-web-application-h2-2111 --resource-group in28minutes-02

az webapp list

az webapp list-runtimes

az webapp restart --name todo-web-application-h2-2111 --resource-group in28minutes-02

https://todo-web-application-h2-2111.scm.azurewebsites.net/api/logstream

az mysql up -g in28minutes-database -s todo-web-app-db-command-line -d todos -u todosuser -p dummytodos@1

az webapp up --name front-end-full-stack-2011 --plan ServicePlan11495813-2533-4301 --resource-group rest-api-full-stack-2112-front-end --location westeurope

az webapp create --resource-group myResourceGroup --plan myAppServicePlan --name <app-name> --multicontainer-config-type compose --multicontainer-config-file docker-compose-wordpress.yml


### Commands Executed during the course

```
az --version
az login
mvn azure-webapp:config
mvn azure-webapp:deploy
mvn clean install
mvn clean install -DskipTests
az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
docker run --detach --env MYSQL_ROOT_PASSWORD=dummypassword --env MYSQL_USER=todos-user --env MYSQL_PASSWORD=dummytodos --env MYSQL_DATABASE=todos --name mysql --publish 3306:3306 mysql:5.7

az webapp restart --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg

az webapp log tail --name todo-web-application-mysql-in28minute--resource-group todo-web-application-mysql-rg

#Cloud Shell
mysql --host todo-web-application-in28minutes.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes -p

#MySQLSH
mysqlsh todo-web-application-in28minutes.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes
\sql
use todos;
select * from todo;

az extension add --name db-up

az mysql up -g in28minutes-database -s todo-web-application-in28minutes-command-line -d todos -u todosuser -p YOUR@PASSWORD1

mysqlsh todo-web-application-in28minutes-command-line.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes-command-line -p

# Environment Variables
RDS_HOSTNAME - todo-web-application-in28minutes.mysql.database.azure.com
todo-web-application-in28minutes-command-line.mysql.database.azure.com
RDS_PORT   - 3306
RDS_DB_NAME  - todos
RDS_USERNAME - todosuser@todo-web-application-in28minutes
todosuser@todo-web-application-in28minutes-command-line
RDS_PASSWORD - 

az webapp up --name frontend-full-stack-in28minutes --plan ServicePlan763a680f-840a-4de0 --resource-group rest-api-full-stack-rg --location westeurope

az webapp up --name frontend-full-stack-in28minutes --plan ServicePlan763a680f-840a-4de0 --resource-group rest-api-full-stack-front-end-rg --location westeurope


  497  watch -n 0.1 curl https://hello-world-rest-api-v2-in28minutes.azurewebsites.net/hello-world-bean-list
  498  watch -n 1 curl https://hello-world-rest-api-v2-in28minutes.azurewebsites.net/hello-world-bean-list

465  mysqlsh todo-web-application-in28minutes.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes
  466  mysqlsh todo-web-application-in28minutes.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes
  467  cd ../04-spring-boot-react-full-stack-h2/frontend/todo-app/
  468  npm install
  469  npm start
  470  pwd
  471  npm run build
  472  cd build
  473  ls
  474  clear
  475  pwd
  476  ls
  477  az webapp up --name frontend-full-stack-in28minutes --plan ServicePlan763a680f-840a-4de0 --resource-group rest-api-full-stack-rg --location westeurope
  478  az webapp up --name frontend-full-stack-in28minutes --plan ServicePlan763a680f-840a-4de0 --resource-group rest-api-full-stack-front-end-rg --location westeurope
  479  cd ..
  480  npm start
  481  exit
  482  history
  483  exit
  484  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  485  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  486  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  487  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  488  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  489  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  490  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  491  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  492  history
  493  clear
  494  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  495  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  496  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  497  az webapp log tail --name todo-web-application-mysql-in28minutes --resource-group todo-web-application-mysql-rg
  498  mysqlsh todo-web-application-in28minutes-command-line.mysql.database.azure.com --user todosuser@todo-web-application-in28minutes-command-line -p
  499  docker --version
  500  az group create --name container-resource-group --location westeurope
  501  az appservice plan create --name container-service-plan --resource-group container-resource-group --sku P1v2 --is-linux
  502  clear
  503  az webapp create --resource-group container-resource-group --plan container-service-plan --name todo-rest-api-h2-container --deployment-container-image-name in28min/todo-rest-api-h2:1.0.0.RELEASE
  504  az webapp create --resource-group container-resource-group --plan container-service-plan --name todo-rest-api-h2-container --deployment-container-image-name in28min/todo-rest-api-h2:1.0.0.RELEASE
  505  clear
  506  az webapp create --resource-group container-resource-group --plan container-service-plan --name todo-rest-api-h2-container --deployment-container-image-name in28min/todo-rest-api-h2:1.0.0.RELEASE
  507  history
  508  clear
  509  docker run --detach --env MYSQL_ROOT_PASSWORD=dummypassword --env MYSQL_USER=todos-user --env MYSQL_PASSWORD=dummytodos --env MYSQL_DATABASE=todos --name mysql --publish 3306:3306 mysql:5.7
  510  docker stop 4ff5238b9464ed7050b89ef137e1b86bbf27c21aa74d5b62090f8fc3e86b4d17
  511  docker rm 4ff5238b9464ed7050b89ef137e1b86bbf27c21aa74d5b62090f8fc3e86b4d17
  512  docker run --detach --env MYSQL_ROOT_PASSWORD=dummypassword --env MYSQL_USER=todos-user --env MYSQL_PASSWORD=dummytodos --env MYSQL_DATABASE=todos --name mysql --publish 3306:3306 mysql:5.7
  513  docker run --name todos-api --publish 5000:5000 --link mysql:mysql in28min/todo-rest-api-mysql:1.0.0.RELEASE
  514  clear
  515  docker-compose --version
  516  pwd
  517  cd ../06-todo-rest-api-mysql-containerized/
  518  ls
  519  docker containers
  520  docker containers ls
  521  docker container ls
  522  clear
  523  docker container ls
  524  docker container stop f25f59ebec84
  525  docker container rm f25f59ebec84
  526  pwd
  527  ls
  528  docker-compose up
  529  history
  530  clear

  538  clear
  539  cd ../01-hello-world-rest-api/
  540  mvn clean install
  541  mvn azure-webapp:deploy
  542  az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  543  clear
  544  az group delete --name hello-world-rest-api-rg
  545  mvn clean install -DskipTests
  546  mvn clean install -DskipTests
  547  mvn azure-webapp:deploy
  548  az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  549  az webapp lorestart -name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  550  az webapp restart -name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  551  az webapp restart --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  552  az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  553  az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  554  az provider list
  555  az webapp log tail --name hello-world-rest-api-in28minutes --resource-group hello-world-rest-api-rg
  556  cd ../07-hello-world-rest-api/
  557  mvn clean install
  558  mvn azure-webapp:deploy
  559  mvn azure-webapp:deploy
  560  mvn clean install
  561  mvn azure-webapp:config
  562  mvn azure-webapp:deploy
  563  clear
  564  az group delete --name container-resource-group --yes
  565  mvn azure-webapp:deploy
  566  cd ../01-hello-world-rest-api/
  567  mvn azure-webapp:deploy
  568  az group delete --name hello-world-rest-api-rg
  569  cd ../07-hello-world-rest-api/
  570  mvn clean install -DskipTests
  571  mvn azure-webapp:deploy
  572  mvn azure-webapp:deploy
  573  clear
  574  pwd
  575  mvn clean install
  576  mvn azure-webapp:deploy
  577  clear
  578  mvn clean install -DskipTests
  579  mvn azure-webapp:deploy
  580  mvn azure-webapp:deploy
  581  clear
  582  cd ../01-hello-world-rest-api/
  583  mvn clean install -DskipTests
  584  mvn azure-webapp:deploy
  585  cd /in28Minutes/git/hello-world-rest-api-azure-pipelines 
  586  git init
  587  git add *
  588  git status
  589  git commit -m "first commit"
  590  git remote add origin https://github.com/in28minutes/hello-world-rest-api-azure-pipelines.git
  591  git push -u origin master
  592  clear
  593  git add *
  594  git commit -m "second commit"
  595  git add
  596  clear
  597  git status
  598  ls
  599  git status
  600  git add *
  601  git commit -m "V10 change"
  602  git push -u origin master
  603  cd /in28Minutes/git/deploy-java-spring-boot-to-azure-webapps 
  604  ls
  605  git add *
  606  git status
  607  git init
  608  git add *
  609  git status
  610  git commit -m "first commit"
  611  git remote add origin https://github.com/in28minutes/deploy-spring-boot-to-azure.git
  612  git push -u origin master
  613  history

```

password - password@123

PRODUCTION - v1
DATABASE_URL -> PROD_URL Deployment Slot Setting



STAGE - V2
DATABASE_URL -> STAGE_URL Deployment Slot Setting
NEW_SETTING 